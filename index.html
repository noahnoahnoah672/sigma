<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Noah the Gambler - Blackjack</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #121212;
      color: #fff;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    header {
      background-color: #333;
      padding: 20px;
    }

    h1 {
      font-size: 2em;
      margin: 0;
    }

    .game-container {
      margin: 20px;
    }

    .game-container button {
      background-color: #28a745;
      color: white;
      font-size: 1.2em;
      padding: 10px 20px;
      border: none;
      cursor: pointer;
      margin: 10px;
    }

    .game-container button:hover {
      background-color: #218838;
    }

    #credits {
      font-size: 1.5em;
      margin-top: 10px;
    }

    .cards {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    .card {
      width: 60px;
      height: 80px;
      background-color: #fff;
      margin: 0 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 5px;
    }

    footer {
      background-color: #333;
      padding: 10px;
      position: fixed;
      bottom: 0;
      width: 100%;
    }

    #gameResult {
      margin-top: 20px;
      font-size: 1.2em;
    }
  </style>
</head>
<body>

  <header>
    <h1>Noah the Gambler - Blackjack</h1>
  </header>

  <main>
    <div class="game-container">
      <h2>Blackjack Game</h2>
      <p>Start with 100 credits and try your luck!</p>

      <button onclick="startGame()">Start New Game</button>
      <button onclick="hit()">Hit</button>
      <button onclick="stand()">Stand</button>

      <div class="cards" id="playerCards"></div>
      <div class="cards" id="dealerCards"></div>

      <p>Your current credits: <span id="credits">100</span> credits</p>
      <p id="gameResult"></p>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 Noah the Gambler</p>
  </footer>

  <script>
    let credits = 100;
    let deck = [];
    let playerHand = [];
    let dealerHand = [];
    let isGameOver = false;

    // Create deck
    function createDeck() {
      deck = [];
      const suits = ['Hearts', 'Diamonds', 'Clubs', 'Spades'];
      const values = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];

      for (let suit of suits) {
        for (let value of values) {
          deck.push({ value: value, suit: suit });
        }
      }
      shuffle(deck);
    }

    // Shuffle deck
    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    // Start a new game
    function startGame() {
      if (credits <= 0) {
        document.getElementById('gameResult').textContent = "You're out of credits! Please refresh the page to restart.";
        return;
      }

      isGameOver = false;
      playerHand = [dealCard(), dealCard()];
      dealerHand = [dealCard(), dealCard()];

      createDeck();

      document.getElementById("playerCards").innerHTML = displayCards(playerHand);
      document.getElementById("dealerCards").innerHTML = `<div class="card">?</div>` + displayCards([dealerHand[1]]);

      document.getElementById("gameResult").textContent = '';
    }

    // Deal a card
    function dealCard() {
      return deck.pop();
    }

    // Display cards on the screen
    function displayCards(hand) {
      return hand.map(card => `<div class="card">${card.value} ${card.suit.charAt(0)}</div>`).join('');
    }

    // Calculate hand value
    function calculateHand(hand) {
      let total = 0;
      let aceCount = 0;

      for (let card of hand) {
        if (card.value === 'A') {
          aceCount++;
          total += 11;
        } else if (['K', 'Q', 'J'].includes(card.value)) {
          total += 10;
        } else {
          total += parseInt(card.value);
        }
      }

      // Adjust for aces
      while (total > 21 && aceCount > 0) {
        total -= 10;
        aceCount--;
      }

      return total;
    }

    // Hit button function
    function hit() {
      if (isGameOver) return;

      playerHand.push(dealCard());
      document.getElementById("playerCards").innerHTML = displayCards(playerHand);

      if (calculateHand(playerHand) > 21) {
        endGame('bust');
      }
    }

    // Stand button function
    function stand() {
      if (isGameOver) return;

      while (calculateHand(dealerHand) < 17) {
        dealerHand.push(dealCard());
      }

      document.getElementById("dealerCards").innerHTML = displayCards(dealerHand);
      endGame();
    }

    // End the game and determine the result
    function endGame(result = '') {
      const playerTotal = calculateHand(playerHand);
      const dealerTotal = calculateHand(dealerHand);

      if (result === 'bust') {
        document.getElementById("gameResult").textContent = `You bust! Dealer wins.`;
        credits -= 10; // You lose 10 credits for busting
      } else if (dealerTotal > 21) {
        document.getElementById("gameResult").textContent = `Dealer busts! You win!`;
        credits += 10; // You win 10 credits if dealer busts
      } else if (playerTotal > dealerTotal) {
        document.getElementById("gameResult").textContent = `You win!`;
        credits += 10; // You win 10 credits
      } else if (playerTotal < dealerTotal) {
        document.getElementById("gameResult").textContent = `Dealer wins.`;
        credits -= 10; // You lose 10 credits
      } else {
        document.getElementById("gameResult").textContent = `It's a tie.`;
      }

      isGameOver = true;
      document.getElementById("credits").textContent = credits;
    }
  </script>
</body>
</html>
